#VRML_SIM R2023b utf8
# Robodyno的四自由度SCARA机械臂第一种构型的模型.
# 臂长: 0.185m.
# license: Creative Commons Attribution 4.0 International License.
# license url: https://creativecommons.org/licenses/by/4.0/legalcode
# template language: javascript

EXTERNPROTO "../joints/SliderModule.proto"
EXTERNPROTO "../joints/Pro_JP44.proto"
EXTERNPROTO "../objects/SliderBase.proto"
EXTERNPROTO "../objects/ArmPipeLink185.proto"
EXTERNPROTO "../objects/ConnectorLink.proto"

PROTO FourDofScaraRobot1 [
  field SFVec3f    translation 0 0 0
  field SFRotation rotation 0 0 1 0
  field SFString   name "FourDofScaraRobot"
  field SFString   firstJointId   "0x10"
  field SFString   secondJointId  "0x11"
  field SFString   thirdJointId   "0x12"
  field SFString   fourthJointId  "0x13"
  field SFFloat    sliderInitPose  0.25
  field MFNode     baseChildren    []
  field MFNode     endChildren     []
  field SFString   controller       ""
]

{
  Robot {
    translation IS translation
    rotation IS rotation
    name IS name
    children [
      Pose {
        translation 0 0 0.01
        children IS baseChildren
      }
      SliderBase {
        translation 0 0 0.01
      }
      SliderModule {
        translation 0 0 0.02
        motor_id IS firstJointId
        initPose IS sliderInitPose
        children [
          ConnectorLink {
            translation -9.99999e-09 0.035 0.04
            rotation -0.5773509358554485 -0.5773509358554485 -0.5773489358556708 2.094395307179586
          }
          Pro_JP44 {
            translation 0 0.101 0.05
            rotation 0.5773509358560258 -0.577349935856137 0.577349935856137 2.0944
            motor_id IS secondJointId
            children [
              Pro_JP44 {
                translation 0.185 0 0.062
                rotation -1 0 0 3.14159
                motor_id IS thirdJointId
                children [
                  Pro_JP44 {
                    translation 0.185 0 0.062
                    rotation 1 4.7949e-09 1.32679e-06 3.14159
                    motor_id IS fourthJointId
                    children [
                      Pose {
                        children IS endChildren
                      }
                    ]
                  }
                  ArmPipeLink185 {
                    translation 6.74634e-14 -2.51033e-13 0
                    rotation 0 0 -1 0
                  }
                ]
              }
              ArmPipeLink185 {
                rotation 0 0 -1 -5.307179586466759e-06
              }
            ]
          }
        ]
      }
    ]
    controller IS controller
  }
}
